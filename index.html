<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë‚˜ë¡œì‚¶ | ì²œë§Œê°œì˜ ì»¤ë¦¬í˜ëŸ¼</title>

  <style>
    :root{
      /* Light (default) */
      --bg:#f6f7fb;
      --surface:#ffffff;
      --text:#0b1220;
      --muted:#5b6476;
      --line:rgba(10,20,40,.12);
      --shadow:0 18px 60px rgba(10,20,40,.12);
      --accent:#7c3aed;
      --accent2:#16a34a;
      --glass:rgba(255,255,255,.72);
    }
    [data-theme="dark"]{
      --bg:#0b0f14;
      --surface:#111827;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --line:rgba(255,255,255,.12);
      --shadow:0 18px 60px rgba(0,0,0,.35);
      --accent:#7c3aed;
      --accent2:#22c55e;
      --glass:rgba(17,24,39,.72);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", Arial, sans-serif;
      background:
        radial-gradient(900px 500px at 15% 10%, color-mix(in srgb, var(--accent) 25%, transparent), transparent 60%),
        radial-gradient(900px 500px at 85% 20%, color-mix(in srgb, var(--accent2) 18%, transparent), transparent 60%),
        var(--bg);
      color:var(--text);
      line-height:1.6;
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:1040px; margin:0 auto; padding:28px 18px 70px;}
    .top{
      display:flex; align-items:center; justify-content:space-between;
      gap:14px; padding:10px 0 22px;
      position:sticky; top:0;
      background: linear-gradient(to bottom, color-mix(in srgb, var(--bg) 92%, transparent), transparent);
      backdrop-filter: blur(10px);
      z-index: 10;
    }
    .brand{display:flex; align-items:center; gap:12px;}
    .logo{
      width:42px; height:42px; border-radius:14px;
      background: linear-gradient(135deg, color-mix(in srgb, var(--accent) 95%, #fff), color-mix(in srgb, var(--accent2) 75%, #fff));
      box-shadow: var(--shadow);
      flex:0 0 auto;
    }
    .brand h1{margin:0; font-size:18px; letter-spacing:.2px}
    .brand p{margin:0; color:var(--muted); font-size:13px}

    .nav{
      display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;
      align-items:center;
    }
    .pill{
      border:1px solid var(--line);
      padding:8px 12px; border-radius:999px;
      background: color-mix(in srgb, var(--surface) 55%, transparent);
      font-size:13px;
    }

    .toggle, .select, .tinyBtn{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border-radius:999px;
      border:1px solid var(--line);
      background: color-mix(in srgb, var(--surface) 55%, transparent);
      cursor:pointer;
      font-size:13px;
      user-select:none;
    }
    .toggle svg{width:16px; height:16px; opacity:.85}

    .select{
      cursor:default;
      padding:6px 10px;
    }
    .select select{
      border:none; outline:none; background:transparent;
      color:var(--text); font-size:13px;
      cursor:pointer;
    }
    .tinyBtn{padding:8px 10px}
    .tinyBtn:hover{transform: translateY(-1px)}
    .tinyBtn:active{transform: scale(.99)}

    .hero{
      border:1px solid var(--line);
      background: var(--glass);
      border-radius:22px;
      padding:26px 22px;
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .hero::after{
      content:"";
      position:absolute; inset:-60px -60px auto auto;
      width:220px; height:220px;
      background: radial-gradient(circle at 30% 30%, color-mix(in srgb, var(--accent) 35%, transparent), transparent 60%);
      transform: rotate(18deg);
      pointer-events:none;
    }
    .kicker{
      display:inline-flex; align-items:center; gap:8px;
      padding:6px 10px; border-radius:999px;
      border:1px solid var(--line);
      background: color-mix(in srgb, var(--surface) 55%, transparent);
      color:var(--muted);
      font-size:13px;
    }
    .dot{width:8px; height:8px; border-radius:99px; background:var(--accent2)}
    .title{margin:10px 0 6px; font-size:34px; letter-spacing:-.6px}
    .subtitle{margin:0; color:var(--muted); font-size:16px; max-width:72ch}

    .ctaRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:16px}
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px; border-radius:14px;
      border:1px solid var(--line);
      background: color-mix(in srgb, var(--surface) 55%, transparent);
      font-size:14px;
      cursor:pointer;
    }
    .btn.primary{
      border-color: color-mix(in srgb, var(--accent) 55%, transparent);
      background: linear-gradient(135deg, color-mix(in srgb, var(--accent) 85%, transparent), color-mix(in srgb, var(--accent) 25%, transparent));
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:14px;
      margin-top:14px;
    }
    .card{
      grid-column: span 6;
      border:1px solid var(--line);
      background: var(--glass);
      border-radius:18px;
      padding:18px;
      box-shadow: 0 10px 30px rgba(0,0,0,.12);
    }
    [data-theme="dark"] .card{box-shadow: 0 10px 30px rgba(0,0,0,.25)}
    .card h3{margin:0 0 8px; font-size:16px}
    .card p{margin:0; color:var(--muted); font-size:14px}

    .list{margin:12px 0 0; padding:0; list-style:none}
    .list li{
      padding:10px 10px;
      border-top:1px dashed color-mix(in srgb, var(--line) 90%, transparent);
      font-size:14px;
      display:flex; gap:10px; align-items:flex-start;
    }
    .badge{
      flex:0 0 auto;
      margin-top:2px;
      font-size:12px;
      padding:3px 8px;
      border-radius:999px;
      background: color-mix(in srgb, var(--accent) 16%, transparent);
      border:1px solid color-mix(in srgb, var(--accent) 30%, transparent);
      color: color-mix(in srgb, var(--text) 92%, transparent);
    }

    .quote{
      margin-top:14px;
      border:1px solid color-mix(in srgb, var(--accent2) 28%, transparent);
      background: color-mix(in srgb, var(--accent2) 10%, transparent);
      border-radius:18px;
      padding:14px 16px;
      font-size:14px;
    }

    .mini{
      display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;
      align-items:center;
    }
    .qbox{
      flex:1 1 280px;
      border:1px dashed var(--line);
      border-radius:14px;
      padding:12px 14px;
      background: color-mix(in srgb, var(--surface) 55%, transparent);
      color:var(--text);
    }
    .qbox small{display:block; color:var(--muted); margin-bottom:6px}
    .qtext{font-weight:600}

    footer{
      margin-top:22px;
      color:var(--muted);
      font-size:12px;
      text-align:center;
      opacity:.95;
    }

    /* ====== ì´ëª¨ì§€ ë²„íŠ¼ + ì…ë ¥ ëª¨ë‹¬ ====== */
    .liText{flex:1 1 auto; padding-top:2px;}
    .emojiBtn{
      flex:0 0 auto;
      border:1px solid var(--line);
      background: color-mix(in srgb, var(--surface) 55%, transparent);
      border-radius:12px;
      padding:6px 10px;
      cursor:pointer;
      line-height:1;
      font-size:16px;
      transition: transform .12s ease;
    }
    .emojiBtn:active{transform: scale(.98)}
    .emojiBtn:hover{transform: translateY(-1px)}
    .emojiBtn:focus{
      outline: 2px solid color-mix(in srgb, var(--accent) 45%, transparent);
      outline-offset: 2px;
    }

    .modalOverlay{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.45);
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index: 999;
    }
    .modalOverlay.open{display:flex;}

    .modal{
      width:min(680px, 100%);
      border:1px solid var(--line);
      background: var(--glass);
      border-radius:18px;
      box-shadow: var(--shadow);
      padding:16px;
      backdrop-filter: blur(10px);
    }
    .modalHeader{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .modalTitle{margin:0; font-size:15px; letter-spacing:-.2px;}
    .modalSub{margin:6px 0 0; color:var(--muted); font-size:13px;}
    .closeBtn{
      border:1px solid var(--line);
      background: color-mix(in srgb, var(--surface) 55%, transparent);
      border-radius:12px;
      padding:6px 10px;
      cursor:pointer;
      font-size:14px;
      line-height:1;
    }
    .modalTextarea{
      width:100%;
      min-height:120px;
      resize:vertical;
      border:1px solid var(--line);
      background: color-mix(in srgb, var(--surface) 70%, transparent);
      border-radius:14px;
      padding:12px 12px;
      color:var(--text);
      font-size:14px;
      outline:none;
      margin-top:10px;
    }
    .modalActions{
      display:flex;
      gap:10px;
      justify-content:flex-end;
      margin-top:10px;
      flex-wrap:wrap;
    }

    /* ===== (ì¶”ê°€) ê³µìœ /ë‚´ë³´ë‚´ê¸° UI ===== */
    .toolbar{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top:12px;
    }
    .toast{
      position:fixed;
      left:50%; bottom:18px;
      transform:translateX(-50%);
      padding:10px 14px;
      border-radius:999px;
      border:1px solid var(--line);
      background: var(--glass);
      box-shadow: var(--shadow);
      font-size:13px;
      color:var(--text);
      display:none;
      z-index:1000;
    }
    .toast.show{display:block;}

    /* Responsive */
    @media (max-width: 820px){
      .title{font-size:30px}
      .card{grid-column: span 12;}
      .nav{justify-content:flex-start}
      .top{align-items:flex-start}
      /* Adjust hero::after for medium screens */
      .hero::after{
        width:180px; height:180px;
        inset:-40px -40px auto auto;
      }
    }
    @media (max-width: 480px){ /* New media query for small phones */
      .brand h1{font-size:16px;}
      .brand p{font-size:12px;}
      .title{font-size:26px} /* Smaller title for very small screens */
      /* Hide hero::after on very small screens */
      .hero::after{
        display: none;
      }
      .pill, .toggle, .select, .tinyBtn{padding:7px 10px}
      .emojiBtn{padding:6px 9px}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header class="top">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1 data-i18n="brand">ë‚˜ë¡œì‚¶</h1>
          <p data-i18n="tagline">ì²œë§Œê°œì˜ ì»¤ë¦¬í˜ëŸ¼</p>
        </div>
      </div>

      <nav class="nav" aria-label="í˜ì´ì§€ ì´ë™">
        <a class="pill" href="#about" data-i18n="nav_about">ì†Œê°œ</a>
        <a class="pill" href="#curriculum" data-i18n="nav_curriculum">ì»¤ë¦¬í˜ëŸ¼</a>
        <a class="pill" href="#values" data-i18n="nav_values">ê°€ì¹˜</a>
        <a class="pill" href="#contact" data-i18n="nav_contact">ì—°ë½</a>

        <!-- âœ… (ì¶”ê°€) ì–¸ì–´ ì„ íƒ -->
        <div class="select" title="Language">
          <span aria-hidden="true">ğŸŒ</span>
          <select id="langSelect" aria-label="Language">
            <option value="ko">í•œêµ­ì–´</option>
            <option value="en">English</option>
            <option value="ja">æ—¥æœ¬èª</option>
            <option value="es">EspaÃ±ol</option>
          </select>
        </div>

        <button class="toggle" id="themeBtn" type="button" aria-label="í…Œë§ˆ ì „í™˜">
          <svg id="themeIcon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" stroke="currentColor" stroke-width="2"/>
            <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span id="themeLabel" data-i18n="btn_dark">ë‹¤í¬</span>
        </button>
      </nav>
    </header>

    <section class="hero" id="about">
      <div class="kicker"><span class="dot"></span> <span data-i18n="kicker">ë‚˜ë¡œ, ì‚¶ì„ ì„¤ê³„í•˜ëŠ” ì‘ì€ ì‹¤í—˜ì‹¤</span></div>
      <h2 class="title" data-i18n="hero_title">ë‚˜ë¡œì‚¶</h2>
      <p class="subtitle" data-i18n="hero_subtitle">
        ë‚˜ë¡œì‚¶ì€ â€œë‚˜ë‹µê²Œ ì‚´ì•„ê°€ëŠ” ë°©ë²•â€ì„ íƒìƒ‰í•˜ëŠ” ê¸°ë¡ì´ì í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
        ì¼ìƒ, ì°½ì‘, ë°°ì›€, ëŒë´„, ì»¤ë®¤ë‹ˆí‹°ë¥¼ ì—°ê²°í•´ â€” ì˜¤ëŠ˜ì˜ ì„ íƒì´ ë‚´ì¼ì˜ ì‚¶ì´ ë˜ë„ë¡ ë•ìŠµë‹ˆë‹¤.
      </p>

      <div class="ctaRow">
        <a class="btn primary" href="#curriculum" data-i18n="btn_view_curriculum">ì²œë§Œê°œì˜ ì»¤ë¦¬í˜ëŸ¼ ë³´ê¸° â†’</a>
        <button class="btn" type="button" id="newQuestionBtn" data-i18n="btn_pick_question">ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ ë½‘ê¸°</button>
      </div>

      <div class="mini" aria-label="ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ ì˜ì—­">
        <div class="qbox" role="status" aria-live="polite">
          <small data-i18n="today_question_label">ì˜¤ëŠ˜ì˜ ì§ˆë¬¸</small>
          <div class="qtext" id="questionText">â€œì§€ê¸ˆ ë‚´ ì‚¶ì—ì„œ ê°€ì¥ ê°€ë³ê²Œ ë°”ê¿€ ìˆ˜ ìˆëŠ” 1%ëŠ” ë¬´ì—‡ì¼ê¹Œ?â€</div>
        </div>
      </div>

      <!-- âœ… (ì¶”ê°€) ê³µìœ /ë‚´ë³´ë‚´ê¸° íˆ´ë°” -->
      <div class="toolbar">
        <button class="tinyBtn" type="button" id="shareBtn" data-i18n="btn_share">ê³µìœ í•˜ê¸°</button>
        <button class="tinyBtn" type="button" id="copyBtn" data-i18n="btn_copy">ê³µìœ ë¬¸êµ¬ ë³µì‚¬</button>
        <button class="tinyBtn" type="button" id="exportBtn" data-i18n="btn_export">ë‚´ ê¸°ë¡ ë‚´ë³´ë‚´ê¸°</button>
        <button class="tinyBtn" type="button" id="importBtn" data-i18n="btn_import">ê¸°ë¡ ê°€ì ¸ì˜¤ê¸°</button>
        <input id="importFile" type="file" accept="application/json" hidden />
      </div>
    </section>

    <section class="grid" id="curriculum" aria-label="ì²œë§Œê°œì˜ ì»¤ë¦¬í˜ëŸ¼">
      <article class="card">
        <h3 data-i18n="card_curriculum_title">ì²œë§Œê°œì˜ ì»¤ë¦¬í˜ëŸ¼ì´ë€?</h3>
        <p data-i18n="card_curriculum_desc">
          ì •ë‹µ í•˜ë‚˜ê°€ ì•„ë‹ˆë¼, ê°ìì˜ ì‚¶ì— ë§ì¶˜ â€˜ë¬´ìˆ˜í•œ ê¸¸â€™ì„ ëœ»í•´ìš”.
          ë§¤ì¼ì˜ ì‘ì€ ë£¨í‹´Â·í”„ë¡œì íŠ¸Â·ê´€ê³„Â·í•™ìŠµì´ ëª¨ì—¬ ê²°êµ­ ë‚˜ë§Œì˜ ì»¤ë¦¬í˜ëŸ¼ì´ ë©ë‹ˆë‹¤.
        </p>

        <ul class="list">
          <li>
            <span class="badge">1</span>
            <span class="liText" data-i18n="step1">ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ í•˜ë‚˜ë¡œ ì‹œì‘í•˜ê¸°</span>
            <button class="emojiBtn" type="button"
              data-step="1"
              data-title-i18n="memo_title_1"
              data-placeholder-i18n="memo_ph_1"
              aria-label="1ë‹¨ê³„ ë©”ëª¨ ì—´ê¸°">ğŸ˜Š</button>
          </li>

          <li>
            <span class="badge">2</span>
            <span class="liText" data-i18n="step2">10ë¶„ ì‹¤ì²œ â†’ 1ì¤„ ê¸°ë¡ â†’ 1ë²ˆ ìˆ˜ì •</span>
            <button class="emojiBtn" type="button"
              data-step="2"
              data-title-i18n="memo_title_2"
              data-placeholder-i18n="memo_ph_2"
              aria-label="2ë‹¨ê³„ ë©”ëª¨ ì—´ê¸°">âœï¸</button>
          </li>

          <li>
            <span class="badge">3</span>
            <span class="liText" data-i18n="step3">ë‚˜ì˜ ë¦¬ë“¬ì„ ì°¾ê³ , ê³„ì† ì—…ë°ì´íŠ¸í•˜ê¸°</span>
            <button class="emojiBtn" type="button"
              data-step="3"
              data-title-i18n="memo_title_3"
              data-placeholder-i18n="memo_ph_3"
              aria-label="3ë‹¨ê³„ ë©”ëª¨ ì—´ê¸°">ğŸ§©</button>
          </li>
        </ul>
      </article>

      <article class="card" id="values">
        <h3 data-i18n="card_values_title">ë‚˜ë¡œì‚¶ì´ ì§€í‚¤ëŠ” 4ê°€ì§€ ê°€ì¹˜</h3>
        <p data-i18n="card_values_desc">ê°€ë³ì§€ë§Œ ê¹Šê²Œ, ê¾¸ì¤€í•˜ì§€ë§Œ ìœ ì—°í•˜ê²Œ.</p>
        <ul class="list">
          <li><span class="badge" data-i18n="value1_badge">ìê¸°ì£¼ë„</span> <span data-i18n="value1_text">ë‚´ê°€ ì„ íƒí•˜ê³  ë‚´ê°€ ì±…ì„ì§€ëŠ” ì‚¶</span></li>
          <li><span class="badge" data-i18n="value2_badge">ì¡´ì—„</span> <span data-i18n="value2_text">ì„±ê³¼ë³´ë‹¤ ì¡´ì¬ë¥¼ ë¨¼ì € ì¡´ì¤‘í•˜ê¸°</span></li>
          <li><span class="badge" data-i18n="value3_badge">ì—°ê²°</span> <span data-i18n="value3_text">í˜¼ìê°€ ì•„ë‹ˆë¼ í•¨ê»˜ ë°°ìš°ê³  ëŒë³´ê¸°</span></li>
          <li><span class="badge" data-i18n="value4_badge">ì§€ì†</span> <span data-i18n="value4_text">ì˜¤ë˜ ê°ˆ ìˆ˜ ìˆëŠ” ì†ë„ì™€ êµ¬ì¡° ë§Œë“¤ê¸°</span></li>
        </ul>
      </article>

      <article class="card">
        <h3 data-i18n="card_do_title">ë¬´ì—‡ì„ í•˜ê²Œ ë˜ë‚˜ìš”?</h3>
        <p data-i18n="card_do_desc">ë‚˜ë¡œì‚¶ì€ ì½˜í…ì¸ ì´ì ì‹¤ì²œ í”„ë¡œì íŠ¸ì˜ˆìš”. ì•„ë˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.</p>
        <ul class="list">
          <li><span class="badge" data-i18n="do1_badge">ê¸°ë¡</span> <span data-i18n="do1_text">ì¡´ì¬ë¡œê·¸ / ì¼ìƒ ì•„ì¹´ì´ë¸Œ / í•œ ì¤„ ì—ì„¸ì´</span></li>
          <li><span class="badge" data-i18n="do2_badge">ì°½ì‘</span> <span data-i18n="do2_text">ìº˜ë¦¬ê·¸ë¼í”¼Â·ì»¤í”¼Â·ë¡œì»¬ í”„ë¡œì íŠ¸</span></li>
          <li><span class="badge" data-i18n="do3_badge">í•™ìŠµ</span> <span data-i18n="do3_text">ë£¨í‹´ ì‹¤í—˜ / ë¯¸ë‹ˆ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„</span></li>
          <li><span class="badge" data-i18n="do4_badge">ëŒë´„</span> <span data-i18n="do4_text">ê°€ì¡±Â·ì»¤ë®¤ë‹ˆí‹° ê¸°ë°˜ ì§€ì› ì•„ì´ë””ì–´</span></li>
        </ul>
      </article>

      <article class="card" id="contact">
        <h3 data-i18n="card_contact_title">í•¨ê»˜í•˜ê¸°</h3>
        <p data-i18n="card_contact_desc">
          â€œë‚˜ë¡œì‚¶â€ì€ ì–¸ì œë‚˜ í˜‘ì—…ê³¼ ì—°ê²°ì„ í™˜ì˜í•©ë‹ˆë‹¤.<br/>
          ì•„ë˜ ì •ë³´ë¥¼ ë‹¹ì‹ ì˜ ì±„ë„ì— ë§ê²Œ ë°”ê¿”ì„œ ì‚¬ìš©í•˜ì„¸ìš”.
        </p>

        <div class="quote">
          <strong data-i18n="contact_example_title">ì—°ë½ ì˜ˆì‹œ</strong><br/>
          <span data-i18n="contact_email">â€¢ ì´ë©”ì¼: your @email.com</span><br/>
          <span data-i18n="contact_insta">â€¢ ì¸ìŠ¤íƒ€ê·¸ë¨: @naro_salm_0</span><br/>
          <span data-i18n="contact_msg">â€¢ ë©”ì‹œì§€: â€œë‚˜ë¡œì‚¶ í˜‘ì—…/ê°•ì˜/í”„ë¡œì íŠ¸ ë¬¸ì˜ë“œë¦½ë‹ˆë‹¤.â€</span>
        </div>
      </article>
    </section>

    <footer>
      Â© <span id="year"></span> <span data-i18n="footer">ë‚˜ë¡œì‚¶ â€” ì²œë§Œê°œì˜ ì»¤ë¦¬í˜ëŸ¼</span>
    </footer>
  </div>

  <!-- ì…ë ¥ ëª¨ë‹¬ -->
  <div class="modalOverlay" id="memoOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="memoTitle">
      <div class="modalHeader">
        <div>
          <h4 class="modalTitle" id="memoTitle">ë©”ëª¨</h4>
          <p class="modalSub" id="memoSub">ì´ ë‹¨ê³„ì— ëŒ€í•œ ë‚˜ì˜ ì…ë ¥ì„ ë‚¨ê²¨ë³´ì„¸ìš”.</p>
        </div>
        <button class="closeBtn" id="memoCloseBtn" type="button" aria-label="ë‹«ê¸°">âœ•</button>
      </div>

      <textarea class="modalTextarea" id="memoTextarea" placeholder=""></textarea>

      <div class="modalActions">
        <button class="btn" type="button" id="memoCancelBtn" data-i18n="btn_cancel">ì·¨ì†Œ</button>
        <button class="btn primary" type="button" id="memoSaveBtn" data-i18n="btn_save">ì €ì¥</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">Saved</div>

  <script>
    // ===== Year =====
    document.getElementById("year").textContent = new Date().getFullYear();

    // ===== Theme (dark/light) =====
    const root = document.documentElement;
    const themeBtn = document.getElementById("themeBtn");
    const themeLabel = document.getElementById("themeLabel");
    const themeIcon = document.getElementById("themeIcon");

    function setTheme(mode){
      if(mode === "dark"){
        root.setAttribute("data-theme", "dark");
        themeLabel.textContent = t("btn_light");
        themeIcon.innerHTML = `
          <path d="M21 13.5A8.5 8.5 0 0 1 10.5 3a7 7 0 1 0 10.5 10.5Z" stroke="currentColor" stroke-width="2" fill="none" />
        `;
      } else {
        root.removeAttribute("data-theme");
        themeLabel.textContent = t("btn_dark");
        themeIcon.innerHTML = `
          <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" stroke="currentColor" stroke-width="2"/>
          <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        `;
      }
      localStorage.setItem("naro_theme", mode);
    }

    // ===== (ì¶”ê°€) i18n =====
    const I18N = {
      ko: {
        brand:"ë‚˜ë¡œì‚¶",
        tagline:"ì²œë§Œê°œì˜ ì»¤ë¦¬í˜ëŸ¼",
        nav_about:"ì†Œê°œ", nav_curriculum:"ì»¤ë¦¬í˜ëŸ¼", nav_values:"ê°€ì¹˜", nav_contact:"ì—°ë½",
        kicker:"ë‚˜ë¡œ, ì‚¶ì„ ì„¤ê³„í•˜ëŠ” ì‘ì€ ì‹¤í—˜ì‹¤",
        hero_title:"ë‚˜ë¡œì‚¶",
        hero_subtitle:"ë‚˜ë¡œì‚¶ì€ â€œë‚˜ë‹µê²Œ ì‚´ì•„ê°€ëŠ” ë°©ë²•â€ì„ íƒìƒ‰í•˜ëŠ” ê¸°ë¡ì´ì í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ì¼ìƒ, ì°½ì‘, ë°°ì›€, ëŒë´„, ì»¤ë®¤ë‹ˆí‹°ë¥¼ ì—°ê²°í•´ â€” ì˜¤ëŠ˜ì˜ ì„ íƒì´ ë‚´ì¼ì˜ ì‚¶ì´ ë˜ë„ë¡ ë•ìŠµë‹ˆë‹¤.",
        btn_view_curriculum:"ì²œë§Œê°œì˜ ì»¤ë¦¬í˜ëŸ¼ ë³´ê¸° â†’",
        btn_pick_question:"ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ ë½‘ê¸°",
        today_question_label:"ì˜¤ëŠ˜ì˜ ì§ˆë¬¸",
        card_curriculum_title:"ì²œë§Œê°œì˜ ì»¤ë¦¬í˜ëŸ¼ì´ë€?",
        card_curriculum_desc:"ì •ë‹µ í•˜ë‚˜ê°€ ì•„ë‹ˆë¼, ê°ìì˜ ì‚¶ì— ë§ì¶˜ â€˜ë¬´ìˆ˜í•œ ê¸¸â€™ì„ ëœ»í•´ìš”. ë§¤ì¼ì˜ ì‘ì€ ë£¨í‹´Â·í”„ë¡œì íŠ¸Â·ê´€ê³„Â·í•™ìŠµì´ ëª¨ì—¬ ê²°êµ­ ë‚˜ë§Œì˜ ì»¤ë¦¬í˜ëŸ¼ì´ ë©ë‹ˆë‹¤.",
        step1:"ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ í•˜ë‚˜ë¡œ ì‹œì‘í•˜ê¸°",
        step2:"10ë¶„ ì‹¤ì²œ â†’ 1ì¤„ ê¸°ë¡ â†’ 1ë²ˆ ìˆ˜ì •",
        step3:"ë‚˜ì˜ ë¦¬ë“¬ì„ ì°¾ê³ , ê³„ì† ì—…ë°ì´íŠ¸í•˜ê¸°",
        memo_title_1:"1ë‹¨ê³„: ì˜¤ëŠ˜ì˜ ì§ˆë¬¸",
        memo_ph_1:"ì˜ˆ) ì˜¤ëŠ˜ ë‚˜ì—ê²Œ ë˜ì§ˆ ì§ˆë¬¸ì€ ë¬´ì—‡ì¸ê°€ìš”?\nì˜ˆ) ì˜¤ëŠ˜ ë°˜ë“œì‹œ ì§€í‚¬ 10ë¶„ ì‹¤ì²œì€?",
        memo_title_2:"2ë‹¨ê³„: 10ë¶„ ì‹¤ì²œ/ê¸°ë¡",
        memo_ph_2:"ì˜ˆ) ì˜¤ëŠ˜ 10ë¶„ ì‹¤ì²œ:\nì˜ˆ) 1ì¤„ ê¸°ë¡:\nì˜ˆ) 1ë²ˆ ìˆ˜ì •:",
        memo_title_3:"3ë‹¨ê³„: ë¦¬ë“¬/ì—…ë°ì´íŠ¸",
        memo_ph_3:"ì˜ˆ) ë‚´ ë¦¬ë“¬(ì‹œê°„/ì¥ì†Œ/ì»¨ë””ì…˜)ì€?\nì˜ˆ) ë‹¤ìŒ ì—…ë°ì´íŠ¸ 1ê°€ì§€ëŠ”?",
        card_values_title:"ë‚˜ë¡œì‚¶ì´ ì§€í‚¤ëŠ” 4ê°€ì§€ ê°€ì¹˜",
        card_values_desc:"ê°€ë³ì§€ë§Œ ê¹Šê²Œ, ê¾¸ì¤€í•˜ì§€ë§Œ ìœ ì—°í•˜ê²Œ.",
        value1_badge:"ìê¸°ì£¼ë„", value1_text:"ë‚´ê°€ ì„ íƒí•˜ê³  ë‚´ê°€ ì±…ì„ì§€ëŠ” ì‚¶",
        value2_badge:"ì¡´ì—„", value2_text:"ì„±ê³¼ë³´ë‹¤ ì¡´ì¬ë¥¼ ë¨¼ì € ì¡´ì¤‘í•˜ê¸°",
        value3_badge:"ì—°ê²°", value3_text:"í˜¼ìê°€ ì•„ë‹ˆë¼ í•¨ê»˜ ë°°ìš°ê³  ëŒë³´ê¸°",
        value4_badge:"ì§€ì†", value4_text:"ì˜¤ë˜ ê°ˆ ìˆ˜ ìˆëŠ” ì†ë„ì™€ êµ¬ì¡° ë§Œë“¤ê¸°",
        card_do_title:"ë¬´ì—‡ì„ í•˜ê²Œ ë˜ë‚˜ìš”?",
        card_do_desc:"ë‚˜ë¡œì‚¶ì€ ì½˜í…ì¸ ì´ì ì‹¤ì²œ í”„ë¡œì íŠ¸ì˜ˆìš”. ì•„ë˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.",
        do1_badge:"ê¸°ë¡", do1_text:"ì¡´ì¬ë¡œê·¸ / ì¼ìƒ ì•„ì¹´ì´ë¸Œ / í•œ ì¤„ ì—ì„¸ì´",
        do2_badge:"ì°½ì‘", do2_text:"ìº˜ë¦¬ê·¸ë¼í”¼Â·ì»¤í”¼Â·ë¡œì»¬ í”„ë¡œì íŠ¸",
        do3_badge:"í•™ìŠµ", do3_text:"ë£¨í‹´ ì‹¤í—˜ / ë¯¸ë‹ˆ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„",
        do4_badge:"ëŒë´„", do4_text:"ê°€ì¡±Â·ì»¤ë®¤ë‹ˆí‹° ê¸°ë°˜ ì§€ì› ì•„ì´ë””ì–´",
        card_contact_title:"í•¨ê»˜í•˜ê¸°",
        card_contact_desc:"â€œë‚˜ë¡œì‚¶â€ì€ ì–¸ì œë‚˜ í˜‘ì—…ê³¼ ì—°ê²°ì„ í™˜ì˜í•©ë‹ˆë‹¤.<br/>ì•„ë˜ ì •ë³´ë¥¼ ë‹¹ì‹ ì˜ ì±„ë„ì— ë§ê²Œ ë°”ê¿”ì„œ ì‚¬ìš©í•˜ì„¸ìš”.",
        contact_example_title:"ì—°ë½ ì˜ˆì‹œ",
        contact_email:"â€¢ ì´ë©”ì¼: your @email.com",
        contact_insta:"â€¢ ì¸ìŠ¤íƒ€ê·¸ë¨: @naro_salm_0",
        contact_msg:"â€¢ ë©”ì‹œì§€: â€œë‚˜ë¡œì‚¶ í˜‘ì—…/ê°•ì˜/í”„ë¡œì íŠ¸ ë¬¸ì˜ë“œë¦½ë‹ˆë‹¤.â€",
        footer:"ë‚˜ë¡œì‚¶ â€” ì²œë§Œê°œì˜ ì»¤ë¦¬í˜ëŸ¼",
        btn_dark:"ë‹¤í¬",
        btn_light:"ë¼ì´íŠ¸",
        btn_cancel:"ì·¨ì†Œ",
        btn_save:"ì €ì¥",
        btn_share:"ê³µìœ í•˜ê¸°",
        btn_copy:"ê³µìœ ë¬¸êµ¬ ë³µì‚¬",
        btn_export:"ë‚´ ê¸°ë¡ ë‚´ë³´ë‚´ê¸°",
        btn_import:"ê¸°ë¡ ê°€ì ¸ì˜¤ê¸°",
        toast_saved:"ì €ì¥ ì™„ë£Œ!",
        toast_copied:"ë³µì‚¬ ì™„ë£Œ!",
        toast_exported:"ë‚´ë³´ë‚´ê¸° ì™„ë£Œ!",
        toast_imported:"ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ!",
        share_title:"ë‚˜ë¡œì‚¶ ê¸°ë¡",
        share_intro:"ì˜¤ëŠ˜ì˜ ê¸°ë¡ì„ ê³µìœ í•©ë‹ˆë‹¤.",
      },
      en: {
        brand:"Naro-Salm",
        tagline:"Ten Million Curriculums",
        nav_about:"About", nav_curriculum:"Curriculum", nav_values:"Values", nav_contact:"Contact",
        kicker:"A small lab to design your life",
        hero_title:"Naro-Salm",
        hero_subtitle:"Naro-Salm is a record and project to explore how to live as yourself. It connects daily life, creation, learning, care, and communityâ€”so today's choices become tomorrow's life.",
        btn_view_curriculum:"View the curriculum â†’",
        btn_pick_question:"Pick todayâ€™s question",
        today_question_label:"Todayâ€™s Question",
        card_curriculum_title:"What is â€œTen Million Curriculumsâ€?",
        card_curriculum_desc:"Not one right answerâ€”countless paths tailored to each life. Small routines, projects, relationships, and learning add up to your own curriculum.",
        step1:"Start with one question",
        step2:"10-minute action â†’ 1-line note â†’ 1 revision",
        step3:"Find your rhythm and keep updating",
        memo_title_1:"Step 1: Todayâ€™s question",
        memo_ph_1:"e.g.) What question will I ask myself today?\ne.g.) What 10-minute action will I keep?",
        memo_title_2:"Step 2: Action / Note",
        memo_ph_2:"e.g.) 10-minute action:\ne.g.) 1-line note:\ne.g.) 1 revision:",
        memo_title_3:"Step 3: Rhythm / Update",
        memo_ph_3:"e.g.) My rhythm (time/place/condition):\ne.g.) One update for next time:",
        card_values_title:"Four Values",
        card_values_desc:"Light but deep, steady but flexible.",
        value1_badge:"Agency", value1_text:"I choose and take responsibility",
        value2_badge:"Dignity", value2_text:"Respect existence before outcomes",
        value3_badge:"Connection", value3_text:"Learn and care together",
        value4_badge:"Sustain", value4_text:"Build a pace that lasts",
        card_do_title:"What will you do?",
        card_do_desc:"Naro-Salm is content and practice. Examples:",
        do1_badge:"Record", do1_text:"Existence log / daily archive / micro-essays",
        do2_badge:"Create", do2_text:"Calligraphy, coffee, local projects",
        do3_badge:"Learn", do3_text:"Routine experiments / mini curricula",
        do4_badge:"Care", do4_text:"Family & community care ideas",
        card_contact_title:"Letâ€™s collaborate",
        card_contact_desc:"Naro-Salm welcomes collaboration and connection.<br/>Replace the info below with your own.",
        contact_example_title:"Contact example",
        contact_email:"â€¢ Email: your @email.com",
        contact_insta:"â€¢ Instagram: @naro_salm_0",
        contact_msg:"â€¢ Message: â€œHello! I'd like to collaborate with Naro-Salm.â€",
        footer:"Naro-Salm â€” Ten Million Curriculums",
        btn_dark:"Dark",
        btn_light:"Light",
        btn_cancel:"Cancel",
        btn_save:"Save",
        btn_share:"Share",
        btn_copy:"Copy share text",
        btn_export:"Export my data",
        btn_import:"Import data",
        toast_saved:"Saved!",
        toast_copied:"Copied!",
        toast_exported:"Exported!",
        toast_imported:"Imported!",
        share_title:"Naro-Salm Log",
        share_intro:"Sharing todayâ€™s log.",
      },
      ja: {
        brand:"ãƒŠãƒ­ã‚µãƒ«ãƒ ",
        tagline:"ä¸€åƒä¸‡ã®ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ",
        nav_about:"ç´¹ä»‹", nav_curriculum:"ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ", nav_values:"ä¾¡å€¤", nav_contact:"é€£çµ¡",
        kicker:"äººç”Ÿã‚’è¨­è¨ˆã™ã‚‹å°ã•ãªå®Ÿé¨“å®¤",
        hero_title:"ãƒŠãƒ­ã‚µãƒ«ãƒ ",
        hero_subtitle:"ãƒŠãƒ­ã‚µãƒ«ãƒ ã¯ã€Œè‡ªåˆ†ã‚‰ã—ãç”Ÿãã‚‹æ–¹æ³•ã€ã‚’æ¢ã™è¨˜éŒ²ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚æ—¥å¸¸ãƒ»å‰µä½œãƒ»å­¦ã³ãƒ»ã‚±ã‚¢ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’ã¤ãªãã€ä»Šæ—¥ã®é¸æŠãŒæ˜æ—¥ã®äººç”Ÿã«ãªã‚‹ã‚ˆã†æ”¯ãˆã¾ã™ã€‚",
        btn_view_curriculum:"ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã‚’è¦‹ã‚‹ â†’",
        btn_pick_question:"ä»Šæ—¥ã®è³ªå•ã‚’é¸ã¶",
        today_question_label:"ä»Šæ—¥ã®è³ªå•",
        card_curriculum_title:"ã€Œä¸€åƒä¸‡ã®ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã€ã¨ã¯ï¼Ÿ",
        card_curriculum_desc:"æ­£è§£ã¯ä¸€ã¤ã§ã¯ãªãã€äººç”Ÿã«åˆã‚ã›ãŸç„¡æ•°ã®é“ã€‚å°ã•ãªç¿’æ…£ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»é–¢ä¿‚ãƒ»å­¦ã³ãŒç©ã¿é‡ãªã‚Šã€ã‚ãªãŸã ã‘ã®ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã«ãªã‚Šã¾ã™ã€‚",
        step1:"ä¸€ã¤ã®è³ªå•ã‹ã‚‰å§‹ã‚ã‚‹",
        step2:"10åˆ†å®Ÿè·µ â†’ 1è¡Œè¨˜éŒ² â†’ 1å›ä¿®æ­£",
        step3:"è‡ªåˆ†ã®ãƒªã‚ºãƒ ã‚’è¦‹ã¤ã‘ã€æ›´æ–°ã—ç¶šã‘ã‚‹",
        memo_title_1:"ã‚¹ãƒ†ãƒƒãƒ—1ï¼šä»Šæ—¥ã®è³ªå•",
        memo_ph_1:"ä¾‹ï¼‰ä»Šæ—¥ã€è‡ªåˆ†ã«æŠ•ã’ã‚‹è³ªå•ã¯ï¼Ÿ\nä¾‹ï¼‰å®ˆã‚ŠãŸã„10åˆ†å®Ÿè·µã¯ï¼Ÿ",
        memo_title_2:"ã‚¹ãƒ†ãƒƒãƒ—2ï¼šå®Ÿè·µï¼è¨˜éŒ²",
        memo_ph_2:"ä¾‹ï¼‰10åˆ†å®Ÿè·µï¼š\nä¾‹ï¼‰1è¡Œè¨˜éŒ²ï¼š\nä¾‹ï¼‰1å›ä¿®æ­£ï¼š",
        memo_title_3:"ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒªã‚ºãƒ ï¼æ›´æ–°",
        memo_ph_3:"ä¾‹ï¼‰ç§ã®ãƒªã‚ºãƒ ï¼ˆæ™‚é–“/å ´æ‰€/çŠ¶æ…‹ï¼‰ï¼š\nä¾‹ï¼‰æ¬¡ã®æ›´æ–°1ã¤ï¼š",
        card_values_title:"4ã¤ã®ä¾¡å€¤",
        card_values_desc:"è»½ã‚„ã‹ã«ã€ã§ã‚‚æ·±ãã€‚ç€å®Ÿã«ã€ã§ã‚‚æŸ”è»Ÿã«ã€‚",
        value1_badge:"ä¸»ä½“æ€§", value1_text:"è‡ªåˆ†ã§é¸ã³ã€è²¬ä»»ã‚’æŒã¤",
        value2_badge:"å°Šå³", value2_text:"æˆæœã‚ˆã‚Šå­˜åœ¨ã‚’å°Šé‡ã™ã‚‹",
        value3_badge:"ã¤ãªãŒã‚Š", value3_text:"å…±ã«å­¦ã³ã€ã‚±ã‚¢ã™ã‚‹",
        value4_badge:"æŒç¶š", value4_text:"ç¶šã‘ã‚‰ã‚Œã‚‹ãƒšãƒ¼ã‚¹ã‚’ä½œã‚‹",
        card_do_title:"ä½•ã‚’ã™ã‚‹ã®ï¼Ÿ",
        card_do_desc:"ãƒŠãƒ­ã‚µãƒ«ãƒ ã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã‚ã‚Šå®Ÿè·µã§ã™ã€‚ä¾‹ï¼š",
        do1_badge:"è¨˜éŒ²", do1_text:"å­˜åœ¨ãƒ­ã‚°ï¼æ—¥å¸¸ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼çŸ­ã„ã‚¨ãƒƒã‚»ã‚¤",
        do2_badge:"å‰µä½œ", do2_text:"ã‚«ãƒªã‚°ãƒ©ãƒ•ã‚£ãƒ¼ãƒ»ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ»ãƒ­ãƒ¼ã‚«ãƒ«PJ",
        do3_badge:"å­¦ã³", do3_text:"ç¿’æ…£å®Ÿé¨“ï¼ãƒŸãƒ‹ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ è¨­è¨ˆ",
        do4_badge:"ã‚±ã‚¢", do4_text:"å®¶æ—ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ã‚±ã‚¢ã‚¢ã‚¤ãƒ‡ã‚¢",
        card_contact_title:"ä¸€ç·’ã«",
        card_contact_desc:"ã‚³ãƒ©ãƒœã‚„ã¤ãªãŒã‚Šã‚’æ­“è¿ã—ã¾ã™ã€‚<br/>ä»¥ä¸‹ã¯è‡ªåˆ†ã®æƒ…å ±ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚",
        contact_example_title:"é€£çµ¡ä¾‹",
        contact_email:"â€¢ ãƒ¡ãƒ¼ãƒ«: your @email.com",
        contact_insta:"â€¢ Instagram: @naro_salm_0",
        contact_msg:"â€¢ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:ã€Œã‚³ãƒ©ãƒœã®ç›¸è«‡ã§ã™ã€‚ã€",
        footer:"ãƒŠãƒ­ã‚µãƒ«ãƒ  â€” ä¸€åƒä¸‡ã®ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ",
        btn_dark:"ãƒ€ãƒ¼ã‚¯",
        btn_light:"ãƒ©ã‚¤ãƒˆ",
        btn_cancel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",
        btn_save:"ä¿å­˜",
        btn_share:"å…±æœ‰",
        btn_copy:"å…±æœ‰æ–‡ã‚’ã‚³ãƒ”ãƒ¼",
        btn_export:"ãƒ‡ãƒ¼ã‚¿æ›¸ãå‡ºã—",
        btn_import:"ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿",
        toast_saved:"ä¿å­˜ã—ã¾ã—ãŸï¼",
        toast_copied:"ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼",
        toast_exported:"æ›¸ãå‡ºã—ã¾ã—ãŸï¼",
        toast_imported:"èª­ã¿è¾¼ã¿ã¾ã—ãŸï¼",
        share_title:"ãƒŠãƒ­ã‚µãƒ«ãƒ è¨˜éŒ²",
        share_intro:"ä»Šæ—¥ã®è¨˜éŒ²ã‚’å…±æœ‰ã—ã¾ã™ã€‚",
      },
      es: {
        brand:"Naro-Salm",
        tagline:"Diez Millones de CurrÃ­culos",
        nav_about:"Acerca", nav_curriculum:"CurrÃ­culo", nav_values:"Valores", nav_contact:"Contacto",
        kicker:"Un pequeÃ±o laboratorio para diseÃ±ar tu vida",
        hero_title:"Naro-Salm",
        hero_subtitle:"Naro-Salm es un registro y proyecto para explorar cÃ³mo vivir siendo tÃº. Conecta vida diaria, creaciÃ³n, aprendizaje, cuidado y comunidad para que las decisiones de hoy sean la vida de maÃ±ana.",
        btn_view_curriculum:"Ver currÃ­culo â†’",
        btn_pick_question:"Elegir pregunta de hoy",
        today_question_label:"Pregunta de hoy",
        card_curriculum_title:"Â¿QuÃ© es â€œDiez Millones de CurrÃ­culosâ€?",
        card_curriculum_desc:"No hay una sola respuesta correcta, sino caminos infinitos segÃºn cada vida. Rutinas, proyectos, relaciones y aprendizaje se convierten en tu propio currÃ­culo.",
        step1:"Empieza con una pregunta",
        step2:"10 min de acciÃ³n â†’ 1 lÃ­nea â†’ 1 mejora",
        step3:"Encuentra tu ritmo y actualÃ­zalo",
        memo_title_1:"Paso 1: Pregunta de hoy",
        memo_ph_1:"Ej.) Â¿QuÃ© pregunta me harÃ© hoy?\nEj.) Â¿QuÃ© acciÃ³n de 10 min mantendrÃ©?",
        memo_title_2:"Paso 2: AcciÃ³n / Nota",
        memo_ph_2:"Ej.) AcciÃ³n de 10 min:\nEj.) Nota de 1 lÃ­nea:\nEj.) 1 mejora:",
        memo_title_3:"Paso 3: Ritmo / ActualizaciÃ³n",
        memo_ph_3:"Ej.) Mi ritmo (tiempo/lugar/estado):\nEj.) Una actualizaciÃ³n:",
        card_values_title:"Cuatro valores",
        card_values_desc:"Ligero pero profundo, constante pero flexible.",
        value1_badge:"AutonomÃ­a", value1_text:"Elijo y me responsabilizo",
        value2_badge:"Dignidad", value2_text:"Respeto la existencia antes que resultados",
        value3_badge:"ConexiÃ³n", value3_text:"Aprender y cuidar juntos",
        value4_badge:"Sostenible", value4_text:"Un ritmo que perdure",
        card_do_title:"Â¿QuÃ© harÃ¡s?",
        card_do_desc:"Naro-Salm es contenido y prÃ¡ctica. Ejemplos:",
        do1_badge:"Registro", do1_text:"Diario / archivo diario / micro-ensayos",
        do2_badge:"Crear", do2_text:"CaligrafÃ­a, cafÃ©, proyectos locales",
        do3_badge:"Aprender", do3_text:"Experimentos de rutina / mini currÃ­culos",
        do4_badge:"Cuidar", do4_text:"Ideas de cuidado familiar y comunitario",
        card_contact_title:"Colaboremos",
        card_contact_desc:"Naro-Salm da la bienvenida a colaboraciones.<br/>Reemplaza esta informaciÃ³n con la tuya.",
        contact_example_title:"Ejemplo de contacto",
        contact_email:"â€¢ Email: your @email.com",
        contact_insta:"â€¢ Instagram: @naro_salm_0",
        contact_msg:"â€¢ Mensaje: â€œHola, quisiera colaborar.â€",
        footer:"Naro-Salm â€” Diez Millones de CurrÃ­culos",
        btn_dark:"Oscuro",
        btn_light:"Claro",
        btn_cancel:"Cancelar",
        btn_save:"Guardar",
        btn_share:"Compartir",
        btn_copy:"Copiar texto",
        btn_export:"Exportar datos",
        btn_import:"Importar datos",
        toast_saved:"Â¡Guardado!",
        toast_copied:"Â¡Copiado!",
        toast_exported:"Â¡Exportado!",
        toast_imported:"Â¡Importado!",
        share_title:"Registro Naro-Salm",
        share_intro:"Comparto mi registro de hoy.",
      }
    };

    function getLang(){
      return localStorage.getItem("naro_lang") || "ko";
    }
    function t(key){
      const lang = getLang();
      return (I18N[lang] && I18N[lang][key]) ? I18N[lang][key] : (I18N.ko[key] || key);
    }
    function applyI18n(){
      const lang = getLang();
      document.documentElement.lang = lang;

      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        const val = t(key);
        if(el.tagName === "INPUT" || el.tagName === "TEXTAREA"){
          el.placeholder = val;
        } else {
          // allow <br/> in translations
          el.innerHTML = val;
        }
      });

      // theme button label update based on current theme
      const isDark = root.getAttribute("data-theme") === "dark";
      themeLabel.textContent = isDark ? t("btn_light") : t("btn_dark");
    }

    const langSelect = document.getElementById("langSelect");
    (function initLang(){
      const saved = getLang();
      langSelect.value = saved;
      applyI18n();
    })();
    langSelect.addEventListener("change", ()=>{
      localStorage.setItem("naro_lang", langSelect.value);
      applyI18n();
    });

    // init theme: saved > system preference
    (function initTheme(){
      const saved = localStorage.getItem("naro_theme");
      const prefersDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
      const start = saved ? saved : (prefersDark ? "dark" : "light");
      setTheme(start);
      applyI18n();
    })();

    themeBtn.addEventListener("click", () => {
      const isDark = root.getAttribute("data-theme") === "dark";
      setTheme(isDark ? "light" : "dark");
      applyI18n();
    });

    // ===== Random Question (ë‹¤êµ­ì–´ìš© ì§ˆë¬¸ë„ ê°„ë‹¨ ì ìš©) =====
    const questionsByLang = {
      ko: [
        "ì§€ê¸ˆ ë‚´ ì‚¶ì—ì„œ ê°€ì¥ ê°€ë³ê²Œ ë°”ê¿€ ìˆ˜ ìˆëŠ” 1%ëŠ” ë¬´ì—‡ì¼ê¹Œ?",
        "ì˜¤ëŠ˜ ë‚´ê°€ â€˜ë‚˜ë‹µë‹¤â€™ê³  ëŠë‚€ ìˆœê°„ì€ ì–¸ì œì˜€ì„ê¹Œ?",
        "ë‚˜ë¥¼ ì‚´ë¦¬ëŠ” ë£¨í‹´ 1ê°œ, ë‚˜ë¥¼ ì§€ì¹˜ëŠ” ë£¨í‹´ 1ê°œëŠ”?"
      ],
      en: [
        "What 1% change can I make today with the least effort?",
        "When did I feel most like myself today?",
        "One routine that helps me, one that drains me?"
      ],
      ja: [
        "ä»Šæ—¥ã€ã„ã¡ã°ã‚“è»½ãå¤‰ãˆã‚‰ã‚Œã‚‹1%ã¯ä½•ï¼Ÿ",
        "ä»Šæ—¥ã€Œè‡ªåˆ†ã‚‰ã—ã„ã€ã¨æ„Ÿã˜ãŸç¬é–“ã¯ï¼Ÿ",
        "è‡ªåˆ†ã‚’åŠ©ã‘ã‚‹ç¿’æ…£1ã¤ã€ç–²ã‚Œã•ã›ã‚‹ç¿’æ…£1ã¤ã¯ï¼Ÿ"
      ],
      es: [
        "Â¿QuÃ© 1% puedo cambiar hoy con el menor esfuerzo?",
        "Â¿CuÃ¡ndo me sentÃ­ mÃ¡s yo hoy?",
        "Una rutina que me ayuda y otra que me drena."
      ]
    };

    const qText = document.getElementById("questionText");
    const newQuestionBtn = document.getElementById("newQuestionBtn");

    function pickQuestion(){
      const lang = getLang();
      const arr = questionsByLang[lang] || questionsByLang.ko;
      const idx = Math.floor(Math.random() * arr.length);
      qText.textContent = "â€œ" + arr[idx] + "â€";
    }
    newQuestionBtn.addEventListener("click", pickQuestion);

    // keyboard shortcut: Q = new question, T = toggle theme
    window.addEventListener("keydown", (e) => {
      if(e.key.toLowerCase() === "q") pickQuestion();
      if(e.key.toLowerCase() === "t") themeBtn.click();
    });

    // ===== ì´ëª¨ì§€ ë²„íŠ¼ í´ë¦­ -> ì…ë ¥ ëª¨ë‹¬ =====
    const overlay = document.getElementById("memoOverlay");
    const memoTitle = document.getElementById("memoTitle");
    const memoSub = document.getElementById("memoSub");
    const memoTextarea = document.getElementById("memoTextarea");
    const memoCloseBtn = document.getElementById("memoCloseBtn");
    const memoCancelBtn = document.getElementById("memoCancelBtn");
    const memoSaveBtn = document.getElementById("memoSaveBtn");

    // toast
    const toast = document.getElementById("toast");
    let toastTimer = null;
    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=> toast.classList.remove("show"), 1300);
    }

    let currentStepKey = null;
    let lastFocusEl = null;

    function openMemo(step, titleKey, placeholderKey){
      currentStepKey = "naro_memo_step_" + step;
      lastFocusEl = document.activeElement;

      memoTitle.textContent = t(titleKey) || "Memo";
      memoSub.textContent = t("share_intro");
      memoTextarea.placeholder = t(placeholderKey) || "";

      memoTextarea.value = localStorage.getItem(currentStepKey) || "";

      overlay.classList.add("open");
      overlay.setAttribute("aria-hidden", "false");
      setTimeout(() => memoTextarea.focus(), 0);
    }

    function closeMemo(){
      overlay.classList.remove("open");
      overlay.setAttribute("aria-hidden", "true");
      currentStepKey = null;

      if(lastFocusEl && typeof lastFocusEl.focus === "function"){
        lastFocusEl.focus();
      }
    }

    document.querySelectorAll(".emojiBtn").forEach(btn => {
      btn.addEventListener("click", () => {
        openMemo(
          btn.dataset.step,
          btn.getAttribute("data-title-i18n"),
          btn.getAttribute("data-placeholder-i18n")
        );
      });
    });

    memoCloseBtn.addEventListener("click", closeMemo);
    memoCancelBtn.addEventListener("click", closeMemo);

    memoSaveBtn.addEventListener("click", () => {
      if(!currentStepKey) return;
      localStorage.setItem(currentStepKey, memoTextarea.value.trim());
      showToast(t("toast_saved"));
      closeMemo();
    });

    overlay.addEventListener("click", (e) => {
      if(e.target === overlay) closeMemo();
    });

    window.addEventListener("keydown", (e) => {
      if(e.key === "Escape" && overlay.classList.contains("open")){
        closeMemo();
      }
    });

    // ===== (ì¶”ê°€) ê³µìœ /ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸° =====
    function collectUserData(){
      return {
        app: "naro-salm-template",
        version: "1.0.0",
        lang: getLang(),
        theme: localStorage.getItem("naro_theme") || "light",
        updatedAt: new Date().toISOString(),
        question: qText.textContent,
        memos: {
          step1: localStorage.getItem("naro_memo_step_1") || "",
          step2: localStorage.getItem("naro_memo_step_2") || "",
          step3: localStorage.getItem("naro_memo_step_3") || ""
        }
      };
    }

    function buildShareText(){
      const data = collectUserData();
      const title = t("share_title");
      const intro = t("share_intro");
      const q = data.question || "";
      const m1 = data.memos.step1?.trim();
      const m2 = data.memos.step2?.trim();
      const m3 = data.memos.step3?.trim();

      const lines = [
        `${title}`,
        `${intro}`,
        ``,
        `${t("today_question_label")}: ${q.replaceAll("â€œ","").replaceAll("â€","")}`,
      ];

      if(m1) lines.push(`- 1) ${m1}`);
      if(m2) lines.push(`- 2) ${m2}`);
      if(m3) lines.push(`- 3) ${m3}`);

      lines.push(``);
      lines.push(`#NaroSalm #TenMillionCurriculums`);

      return lines.join("\n");
    }

    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
        showToast(t("toast_copied"));
      } catch {
        // fallback
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        showToast(t("toast_copied"));
      }
    }

    const shareBtn = document.getElementById("shareBtn");
    const copyBtn = document.getElementById("copyBtn");
    const exportBtn = document.getElementById("exportBtn");
    const importBtn = document.getElementById("importBtn");
    const importFile = document.getElementById("importFile");

    copyBtn.addEventListener("click", async ()=>{
      await copyText(buildShareText());
    });

    shareBtn.addEventListener("click", async ()=>{
      const text = buildShareText();
      const title = t("share_title");

      // 1) Web Share API (ëª¨ë°”ì¼/ì§€ì› ë¸Œë¼ìš°ì €)
      if(navigator.share){
        try{
          await navigator.share({ title, text });
          return;
        } catch (e){
          // user canceled or failed -> fallback
        }
      }

      // 2) Fallback: ìƒˆ ì°½ì— ê³µìœ  ë§í¬ ëª¨ìŒ (X/FB/LinkedIn)
      const encoded = encodeURIComponent(text);
      const x = `https://twitter.com/intent/tweet?text=${encoded}`;
      const fb = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(location.href)}&quote=${encoded}`;
      const li = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(location.href)}`;

      const html = `
        <div style="font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial; padding:16px">
          <h3 style="margin:0 0 10px">Share</h3>
          <p style="margin:0 0 10px; color:#555">Copy text or open a share link:</p>
          <pre style="white-space:pre-wrap; border:1px solid #ddd; padding:10px; border-radius:10px; background:#fafafa">${text.replaceAll("<","&lt;")}</pre>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
            <a href="${x}" target="_blank" rel="noreferrer">Share to X</a>
            <a href="${fb}" target="_blank" rel="noreferrer">Share to Facebook</a>
            <a href="${li}" target="_blank" rel="noreferrer">Share to LinkedIn</a>
          </div>
          <p style="margin-top:10px; color:#777; font-size:12px">Tip: Instagram/Kakao usually works best by copying text first.</p>
        </div>
      `;
      const w = window.open("", "_blank");
      if(w){
        w.document.open();
        w.document.write(html);
        w.document.close();
      }else{
        await copyText(text);
      }
    });

    exportBtn.addEventListener("click", ()=>{
      const data = collectUserData();
      const blob = new Blob([JSON.stringify(data, null, 2)], {type:"application/json"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = `naro-salm-log_${new Date().toISOString().slice(0,10)}.json`;
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      showToast(t("toast_exported"));
    });

    importBtn.addEventListener("click", ()=> importFile.click());

    importFile.addEventListener("change", async ()=>{
      const file = importFile.files && importFile.files[0];
      if(!file) return;
      try{
        const txt = await file.text();
        const data = JSON.parse(txt);

        // ìµœì†Œ ê²€ì¦
        if(!data || !data.memos) throw new Error("Invalid");

        localStorage.setItem("naro_memo_step_1", data.memos.step1 || "");
        localStorage.setItem("naro_memo_step_2", data.memos.step2 || "");
        localStorage.setItem("naro_memo_step_3", data.memos.step3 || "");

        if(data.lang){
          localStorage.setItem("naro_lang", data.lang);
          langSelect.value = data.lang;
        }
        if(data.theme){
          localStorage.setItem("naro_theme", data.theme);
          setTheme(data.theme);
        }

        if(data.question){
          qText.textContent = data.question;
        }

        applyI18n();
        showToast(t("toast_imported"));
      } catch(e){
        alert("Import failed. Please choose a valid JSON export file.");
      } finally {
        importFile.value = "";
      }
    });
  </script>
</body>
</html>